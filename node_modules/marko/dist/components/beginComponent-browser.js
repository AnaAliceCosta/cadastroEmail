var ComponentDef = require("./ComponentDef");

module.exports = function beginComponent(componentsContext, component, key, ownerComponentDef) {
    var componentId = component.id;

    var globalContext = componentsContext.O_;
    var componentDef = componentsContext._p_ = new ComponentDef(component, componentId, globalContext);
    globalContext._z_[componentId] = true;
    componentsContext._r_.push(componentDef);

    var out = componentsContext._s_;
    out.bc(component, key, ownerComponentDef && ownerComponentDef._b_);
    return componentDef;
};